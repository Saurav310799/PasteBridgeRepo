<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PasteBridge</title>
<style>
body { font-family: Arial; padding: 20px; max-width: 600px; margin: auto; }
textarea { width: 100%; height: 180px; padding: 10px; font-size: 16px; }
input { width: 100%; padding: 10px; font-size: 16px; margin-top: 10px; }
button { width: 100%; padding: 12px; font-size: 18px; margin-top: 10px; cursor: pointer; }
#output { margin-top: 10px; padding: 15px; background: #f5f5f5; white-space: pre-wrap; }
</style>
</head>

<body>
<h2>PasteBridge</h2>

<textarea id="content" placeholder="Paste text here..."></textarea>
<button id="saveBtn">Save</button>

<input id="keyInput" placeholder="Enter key to load..." />
<button id="loadBtn">Load</button>

<div id="output"></div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

<script>
// TODO: Replace with your real config
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyBzE0ZPDrWEYb4ewS55mcOVcbkgRBybHwM",
  authDomain: "pastebridge-67b1c.firebaseapp.com",
  projectId: "pastebridge-67b1c",
  storageBucket: "pastebridge-67b1c.firebasestorage.app",
  messagingSenderId: "324145905324",
  appId: "1:324145905324:web:b5c2a036a875b3ba536909",
  measurementId: "G-66V87E464N"
};

// INIT
const app = firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

function randomKey() {
return Math.random().toString(36).substring(2, 7);
}

// SAVE
document.getElementById("saveBtn").onclick = async () => {
const content = document.getElementById("content").value.trim();
if (!content) return alert("Nothing to save.");

const key = randomKey();
await db.collection("pastes").doc(key).set({
content,
ts: Date.now()

});

alert("Saved! Your key: " + key);
};

// LOAD
document.getElementById("loadBtn").onclick = async () => {
const key = document.getElementById("keyInput").value.trim();
if (!key) return alert("Enter a key.");

const doc = await db.collection("pastes").doc(key).get();
if (!doc.exists) return alert("Not found.");

document.getElementById("output").innerText = doc.data().content;
};
</script>
</body>
</html>